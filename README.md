### **Тестовое задание: Серверное приложение для управления пользователями и заказами**

#### Описание проекта

Это монолитное серверное приложение, разработанное на Django, для управления данными о пользователях и их заказах. Приложение предоставляет API для выполнения операций CRUD (Create, Read, Update, Delete) над двумя сущностями: `User` и `Order`. В качестве базы данных используется PostgreSQL, а для удобства развертывания проект упакован в Docker-контейнеры.

-----

### Технологии

  * **Python 3.12.4**: Язык программирования
  * **Django 5.2.5**: Веб-фреймворк для бэкенда
  * **Django REST Framework**: Набор инструментов для построения API
  * **PostgreSQL 16**: Реляционная база данных
  * **Docker & Docker Compose**: Инструменты для контейнеризации и оркестрации

-----

### Архитектура

Проект выполнен в виде монолитного приложения, что соответствует требованиям технического задания. Структура проекта четко разделяет логику на два основных приложения: `User` и `Order`. Взаимодействие с базой данных осуществляется через встроенный ORM Django. Для обеспечения атомарности и целостности данных при создании заказа реализована проверка на существование пользователя.

-----

### Требования для запуска

  * [Docker](https://www.docker.com/products/docker-desktop/)
  * [Docker Compose](https://docs.docker.com/compose/install/)

-----

### Инструкции по запуску

1.  **Клонируйте репозиторий:**

    ```bash
    git clone https://github.com/Aqwarys/TestTask
    cd TestTask
    ```

2.  **Настройте переменные окружения:**
    Создайте файл `.env` в корневой директории вашего проекта и заполните его следующими данными. Это необходимо для безопасного подключения к базе данных.

    ```bash
    # Переменные для Django
    DJANGO_SECRET_KEY='Ваш_Секретный_Ключ'

    # Переменные для базы данных (PostgreSQL)
    POSTGRES_DB=Ваш_Название_БД
    POSTGRES_USER=Ваш_Юзер_БД
    DB_PASSWORD=Ваш_Пароль_БД
    ```

    *Примечание: Замените 'Ваш\_Секретный\_Ключ' и 'Ваш\_Пароль\_БД' на ваши собственные значения.*

3.  **Запустите проект с помощью Docker Compose:**
    Эта команда соберёт Docker-образы, запустит контейнеры и выполнит миграции базы данных.

    ```bash
    docker-compose up --build
    ```

    *Сервис `web` будет доступен по адресу `http://localhost:8000/`.*

-----

### Документация API

Приложение предоставляет REST API для работы с данными.

#### 1\. Пользователи (`/api/users/`)

  * **Создание пользователя (POST):**
    `URL`: `http://localhost:8000/api/users/`
    `Body` (JSON):

    ```json
    {
      "name": "Джон Доу",
      "email": "john.doe@example.com",
      "age": 30
    }
    ```

  * **Получение списка пользователей (GET):**
    `URL`: `http://localhost:8000/api/users/`

  * **Получение пользователя по ID (GET):**
    `URL`: `http://localhost:8000/api/users/{id}/`
    *Пример: `http://localhost:8000/api/users/1/`*

-----

#### 2\. Заказы (`/api/orders/`)

**Создание заказа (POST):**

  * **Важно:** Для создания заказа необходимо предоставить **JWT-токен аутентификации** в заголовке запроса. Заказ будет автоматически привязан к пользователю, чей токен был использован. Поле `user` не требуется в теле запроса, так как оно определяется автоматически из токена.
  * **Метод:** `POST`
  * **URL:** `http://localhost:8000/api/orders/`
  * **Заголовок:** `Authorization: Bearer <ваш_access_токен>`
  * **Body** (JSON):
    ```json
    {
      "title": "Ноутбук",
      "description": "Мощный ноутбук для работы"
    }
    ```
  * **Пример успешного ответа (Status: 201 Created):**
    ```json
    {
      "id": 1,
      "title": "Ноутбук",
      "description": "Мощный ноутбук для работы",
      "user": 1
    }
    ```

**Получение списка заказов (GET):**

  * **Метод:** `GET`
  * **URL:** `http://localhost:8000/api/orders/`
  * **Пример успешного ответа (Status: 200 OK):**
    ```json
    [
      {
        "id": 1,
        "title": "Ноутбук",
        "description": "Мощный ноутбук для работы",
        "user": 1
      },
      {
        "id": 2,
        "title": "Смартфон",
        "description": "Последняя модель смартфона",
        "user": 2
      }
    ]
    ```

**Получение заказа по ID (GET):**

  * **Метод:** `GET`
  * **URL:** `http://localhost:8000/api/orders/{id}/`
  * **Пример:** `http://localhost:8000/api/orders/1/`
  * **Пример успешного ответа (Status: 200 OK):**
    ```json
    {
      "id": 1,
      "title": "Ноутбук",
      "description": "Мощный ноутбук для работы",
      "user": 1
    }
    ```
-----

### Благодарность

Спасибо за возможность выполнить это тестовое задание. Работа над проектом, включая настройку контейнерной среды, позволила подтвердить мои навыки в области разработки на Django и отладки инфраструктурных решений.
-----

[**\[Git Hub Repo\]**](https://github.com/Aqwarys/TestTask)